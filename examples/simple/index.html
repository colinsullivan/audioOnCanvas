<!DOCTYPE HTML>

<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <title>Simple Waveform Test</title>


  <body>
    <canvas id="waveform" width="720px" height="480px"></canvas>

    <script src="../../lib/audioOnCanvas.js"></script>
    <script> 
      window.onload = function() {

        var audioCtx = new webkitAudioContext();
        var xhr = new XMLHttpRequest();

        xhr.open(
          "GET",
          "../test_wavs/Air_EndingKeys.wav",
          true
        );
        xhr.responseType = "arraybuffer";
        xhr.onload = function(e) {
          // buffer for incoming audio
          buf = audioCtx.createBuffer(xhr.response, false);

          canvasElement = document.getElementById("waveform");

          waveformRenderer = new audioOnCanvas.WaveformRenderer({
            canvasElement: canvasElement,
            buffer: buf
          });
        }
        xhr.send();

      }
    </script>
  </body>
</head>
</html>
